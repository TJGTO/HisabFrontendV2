(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8853:function(e,a,t){Promise.resolve().then(t.bind(t,7285))},482:function(e,a,t){"use strict";var r=t(9268);a.Z=function(e){let{message:a,color:t}=e;return(0,r.jsx)("p",{className:"".concat(t||"text-red-600"),children:a})}},6651:function(e,a,t){"use strict";var r=t(6006);a.Z=function(){let[e,a]=(0,r.useState)(void 0),[t,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(null),[n,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=!!e;a(t),s(e),o(localStorage.getItem("fullname")||null),l(localStorage.getItem("email")||null)},[]),[e,t,i,n]}},3491:function(e,a,t){"use strict";var r=t(9268);t(6006),a.Z=function(e){return(0,r.jsx)("img",{src:"https://drive.google.com/uc?export=view&id=10ROLMv8jcIpmnLJlKC0vZ0ubQVsGHhTz",width:e.width||40,height:e.height||40,alt:"WFG_LOGO"})}},7285:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return w}});var r=t(9268),s=t(6006),i=t(6651),o=t(856),n=t.n(o),l=t(5846),d=t.n(l),c=t(6008),u=t(9700),g=t(3491),m=t(6628),f=t(6732),h=t(482),p=t(353);let y=p.Ry({email:p.Z_().email("Please enter a valid email Id").required("Email is required"),password:p.Z_().min(8,"Password shoule have minimum 8 characters")}).required();var b=t(4864),x=t(749),k=function(){let{register:e,handleSubmit:a,formState:{errors:t}}=(0,u.cI)({resolver:(0,f.X)(y)}),o=(0,c.useRouter)(),[l,p]=(0,s.useState)(!1),[k,w]=(0,i.Z)();(0,s.useEffect)(()=>{k&&(0,c.redirect)("/dashboard")},[k]);let v=(0,m.v9)(e=>e.authorization.loginLoader),j=(0,m.v9)(e=>e.authorization.userDetail),N=(0,m.v9)(e=>e.authorization.loginMessage),S=(0,m.I0)();return(0,s.useEffect)(()=>{l&&!v&&j&&(n().fire({icon:"success",title:N,showConfirmButton:!1,timer:1500}),p(!1),o.push("/dashboard")),!l||v||j||(n().fire({icon:"error",title:N,showConfirmButton:!1,timer:1500}),p(!1))},[v,j]),(0,r.jsx)("div",{children:(0,r.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:(0,r.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,r.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,r.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Login"}),(0,r.jsx)(g.Z,{})]}),(0,r.jsxs)("form",{className:"space-y-4 md:space-y-6",action:"#",onSubmit:a(e=>{p(!0),S((0,x.CX)(e))}),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,r.jsx)("input",{id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",...e("email")}),t&&t.email&&(0,r.jsx)(h.Z,{message:t.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",placeholder:"••••••••",...e("password"),className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),t&&t.password&&(0,r.jsx)(h.Z,{message:t.password.message})]}),v?(0,r.jsx)("button",{type:"submit",disabled:!0,className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)(b.Z,{color:"secondary",size:20})}):(0,r.jsx)("button",{type:"submit",disabled:!1,className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Login"}),(0,r.jsxs)("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don’t have an account?"," ",(0,r.jsxs)(d(),{href:"/registration",className:"font-medium text-blue-700 hover:underline",children:[" ","Register here"]})]})]})]})})})})})};function w(){return(0,r.jsx)(k,{})}},5794:function(e,a,t){"use strict";t.d(a,{Y:function(){return i},p:function(){return o}});var r=t(5953);let s="https://wfg-kol-backend.onrender.com/",i=r.Z.create({baseURL:s,timeout:1e4}),o=r.Z.create({baseURL:s,timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e))},749:function(e,a,t){"use strict";t.d(a,{ZP:function(){return u},CX:function(){return l},K1:function(){return n}});var r=t(7539),s=t(5794);async function i(e){let a=await s.Y.post("user/create",e);return a.data&&a.data.success?{success:!0,message:"Registration is successfull"}:{success:!1,message:a.data?a.data.message:"Failed to register"}}async function o(e){let a=await s.Y.post("user/login",e);return a.data&&a.data.success?(localStorage.setItem("token",a.data.data.token),localStorage.setItem("fullname",a.data.data.fullname),localStorage.setItem("email",a.data.data.email),{success:!0,message:"Login is successfull",userdata:a.data.data}):{success:!1,message:"".concat(a.data.message?a.data.message:"Login is failed")}}let n=(0,r.hg)("authorization/registration",async e=>{try{let a=await i(e);return a}catch(e){console.log(e)}}),l=(0,r.hg)("authorization/login",async e=>{try{let a=await o(e);return a}catch(e){console.log(e)}}),d=(0,r.oM)({name:"authorization",initialState:{count:1,registrationLoader:!1,registrationSuccess:!1,registrationMessage:"",loginLoader:!1,userDetail:null,loginMessage:""},reducers:{increment:e=>{e.count+=1}},extraReducers:e=>{e.addCase(n.pending,e=>{e.registrationLoader=!0}),e.addCase(n.fulfilled,(e,a)=>{a.payload&&a.payload.success?(e.registrationSuccess=!0,e.registrationMessage=a.payload.message):a.payload&&(e.registrationSuccess=!1,e.registrationMessage=a.payload.message),e.registrationLoader=!1}),e.addCase(l.pending,e=>{e.loginLoader=!0}),e.addCase(l.fulfilled,(e,a)=>{a.payload&&a.payload.success?(e.userDetail=a.payload.userdata,e.loginMessage=a.payload.message):a.payload&&(e.userDetail=null,e.loginMessage=a.payload.message),e.loginLoader=!1})}}),{increment:c}=d.actions;var u=d.reducer}},function(e){e.O(0,[987,412,881,485,846,389,253,769,744],function(){return e(e.s=8853)}),_N_E=e.O()}]);