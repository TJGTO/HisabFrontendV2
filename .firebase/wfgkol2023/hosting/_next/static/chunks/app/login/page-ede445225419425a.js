(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8853:function(e,a,r){Promise.resolve().then(r.bind(r,7285))},482:function(e,a,r){"use strict";var s=r(9268);a.Z=function(e){let{message:a,color:r}=e;return(0,s.jsx)("p",{className:"".concat(r||"text-red-600"),children:a})}},6651:function(e,a,r){"use strict";var s=r(6006);a.Z=function(){let[e,a]=(0,s.useState)(!1),[r,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),r=!!e;a(r),t(e)},[]),[e,r]}},3491:function(e,a,r){"use strict";var s=r(9268);r(6006),a.Z=function(e){return(0,s.jsx)("img",{src:"https://drive.google.com/uc?export=view&id=10ROLMv8jcIpmnLJlKC0vZ0ubQVsGHhTz",width:e.width||40,height:e.height||40,alt:"WFG_LOGO"})}},7285:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return w}});var s=r(9268),t=r(6006),i=r(6651),o=r(856),n=r.n(o),l=r(5846),d=r.n(l),c=r(6008),u=r(9700),g=r(3491),m=r(6628),f=r(6732),h=r(482),p=r(353);let y=p.Ry({email:p.Z_().email("Please enter a valie email Id").required("Email is required"),password:p.Z_().min(8,"Password shoule have minimum 8 characters")}).required();var b=r(4864),x=r(5499),k=function(){let{register:e,handleSubmit:a,formState:{errors:r}}=(0,u.cI)({resolver:(0,f.X)(y)}),o=(0,c.useRouter)(),[l,p]=(0,t.useState)(!1),[k,w]=(0,i.Z)();(0,t.useEffect)(()=>{k&&(0,c.redirect)("/dashboard")},[k]);let v=(0,m.v9)(e=>e.authorization.loginLoader),j=(0,m.v9)(e=>e.authorization.userDetail),N=(0,m.v9)(e=>e.authorization.loginMessage),L=(0,m.I0)();return(0,t.useEffect)(()=>{l&&!v&&j&&(n().fire({icon:"success",title:N,showConfirmButton:!1,timer:1500}),p(!1),o.push("/dashboard")),!l||v||j||(n().fire({icon:"error",title:N,showConfirmButton:!1,timer:1500}),p(!1))},[v,j]),(0,s.jsx)("div",{children:(0,s.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900",children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:(0,s.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,s.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,s.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Login"}),(0,s.jsx)(g.Z,{})]}),(0,s.jsxs)("form",{className:"space-y-4 md:space-y-6",action:"#",onSubmit:a(e=>{p(!0),L((0,x.CX)(e))}),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,s.jsx)("input",{id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",...e("email")}),r&&r.email&&(0,s.jsx)(h.Z,{message:r.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",placeholder:"••••••••",...e("password"),className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),r&&r.password&&(0,s.jsx)(h.Z,{message:r.password.message})]}),v?(0,s.jsx)("button",{type:"submit",disabled:!0,className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(b.Z,{color:"secondary",size:20})}):(0,s.jsx)("button",{type:"submit",disabled:!1,className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Login"}),(0,s.jsxs)("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Don,t have an account?"," ",(0,s.jsxs)(d(),{href:"/registration",className:"font-medium text-blue-700 hover:underline",children:[" ","Register here"]})]})]})]})})})})})};function w(){return(0,s.jsx)(k,{})}},5499:function(e,a,r){"use strict";r.d(a,{ZP:function(){return g},CX:function(){return d},K1:function(){return l}});var s=r(7539),t=r(5953);let i=t.Z.create({baseURL:"https://wfg-kol-backend.onrender.com/",timeout:1e4});async function o(e){let a=await i.post("user/create",e);return a.data&&a.data.success?{success:!0,message:"Registration is successfull"}:{success:!1,message:"Registration is failed"}}async function n(e){let a=await i.post("user/login",e);return a.data&&a.data.success?(localStorage.setItem("token",a.data.data.token),{success:!0,message:"Login is successfull",userdata:a.data.data}):{success:!1,message:"".concat(a.data.message?a.data.message:"Login is failed")}}let l=(0,s.hg)("authorization/registration",async e=>{try{let a=await o(e);return a}catch(e){console.log(e)}}),d=(0,s.hg)("authorization/login",async e=>{try{let a=await n(e);return a}catch(e){console.log(e)}}),c=(0,s.oM)({name:"authorization",initialState:{count:1,registrationLoader:!1,registrationSuccess:!1,registrationMessage:"",loginLoader:!1,userDetail:null,loginMessage:""},reducers:{increment:e=>{e.count+=1}},extraReducers:e=>{e.addCase(l.pending,e=>{e.registrationLoader=!0}),e.addCase(l.fulfilled,(e,a)=>{a.payload&&a.payload.success?(e.registrationSuccess=!0,e.registrationMessage=a.payload.message):a.payload&&(e.registrationSuccess=!1,e.registrationMessage=a.payload.message),e.registrationLoader=!1}),e.addCase(d.pending,e=>{e.loginLoader=!0}),e.addCase(d.fulfilled,(e,a)=>{console.log("jwbefj"),a.payload&&a.payload.success?(e.userDetail=a.payload.userdata,e.loginMessage=a.payload.message):a.payload&&(e.userDetail=null,e.loginMessage=a.payload.message),e.loginLoader=!1})}}),{increment:u}=c.actions;var g=c.reducer}},function(e){e.O(0,[987,412,881,131,6,253,769,744],function(){return e(e.s=8853)}),_N_E=e.O()}]);